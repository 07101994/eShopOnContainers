# This heml values file defines all infrastructure used by eShopOnContainers.
# It is used on all charts, so ** MUST BE INCLUDED ** on every deployment

inf:
  sql:                      # inf.sql defines the sql server databases & logins
#    host:  my-sql-server   # Uncomment to specify a custom sql-server to be used. By default "sql-data-<appname>" will be used
    catalog:                # inf.sql.catalog: settings for the catalog-api sql (user, pwd, db)
      user: sa              # Catalog API SQL user
      pwd: Pass@word        # Catalog API SQL pwd
      db: CatalogDb         # Catalog API SQL db name
    ordering:               # inf.sql.ordering: settings for the ordering-api sql (user, pwd, db)
      user: sa              # Ordering API SQL user
      pwd: Pass@word        # Ordering API SQL pwd
      db: OrderingDb        # Ordering API SQL db name
    identity:
      user: sa              # Ordering API SQL user
      pwd: Pass@word        # Ordering API SQL pwd
      db: IdentityDb        # Ordering API SQL db name
  redis:                    # inf.redis defines the redis' connection strings
    basket:                 
      constr: basket-data   # Connection string to Redis used by Basket API
    keystore:
      constr: keystore-data # Connection string to Redis used as a Keystore (by Identity API)
  eventbus:
    constr: rabbitmq        # Event bus connection strin g
    useAzure: false         # true if use Azure Service Bus. False if RabbitMQ
  appinsights:
      key: ""               # App insights to use
  k8s:                      # inf.k8s defines Kubernetes cluster global config
    dns:  ""                # k8s external IP or DNS. Value MUST BE PROVIDED using --set (--set inf.k8s.dns=my-cluster-dns)
    dnsprefix: true         # If 'true' DNS values in ingress are prefixed using values.app.name. Note that this requires "externalDNS" to be running in k8s cluster. If true "inf.k8s.suffix" is ignored.
    suffix: false           # If 'true' URL values in ingress are suffixed using values.app.name. That do not require anything special in cluster and still allows many apps using same ingress controller. Ignored if inf.k8s.dnsprefix is true
  misc:                     # inf.misc contains miscellaneous configuration related to infrastructure
    useLoadTest: false      # If running under loading test or not
    useAzureStorage: false  # If catalog api uses azure storage or not
