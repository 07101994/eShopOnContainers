<?xml version="1.0" encoding="utf-8"?>
<WebTest Name="Login" Id="242499b5-0f06-4917-9d4a-e82aa42bf783" Owner="" Priority="2147483647" Enabled="True" CssProjectStructure="" CssIteration="" Timeout="0" WorkItemIds="" xmlns="http://microsoft.com/schemas/VisualStudio/TeamTest/2010" Description="" CredentialUserName="demouser@microsoft.com" CredentialPassword="ph1JKNO2Juq7bNVv9gnOBw==" PreAuthenticate="True" Proxy="default" StopOnError="False" RecordedResultFile="" ResultsLocale="">
  <Items>
    <Request Method="GET" Guid="35ddfacd-25a2-4d79-9edd-1a01eb7e4387" Version="1.1" Url="{{WebServer}}/Account/SignIn" ThinkTime="0" Timeout="300" ParseDependentRequests="True" FollowRedirects="True" RecordResult="True" Cache="False" ResponseTimeGoal="0" Encoding="utf-8" ExpectedHttpStatusCode="0" ExpectedResponseUrl="{{WebServer}}:5105/account/login?returnUrl=%2Fconnect%2Fauthorize%2Flogin%3Fclient_id%3Dmvc%26redirect_uri%3Dhttp%253A%252F%252F192.168.1.64%253A5100%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520orders%2520basket%2520marketing%26response_mode%3Dform_post%26nonce%3D636342378747934840.OGZkMzJhZTAtYWU5MS00YTMxLWE2ZDctZjE1MjVmMzgyOTY0MzMzY2FlMjUtMjUzMy00MDZjLWI2NjktOTUxMzE1ZDQxMzNj%26state%3DCfDJ8Cdrh-iylPpOkQpr1RyNCAEauzlQGRD0a5Vr2AcE9RNhkksEJEU1MfzIx7dH1sQkFHS9jHEzg1EY9O0Nv2rVwzdScaqc7ShHJu4Dw-r0cfNLBLGHPJGrAQH05x1YwIUsxxfmRUfU4Vcm3-38VR4g0lmQAywKqK_8nJ_D8aoPdU_4x8OMxkCiNuIlfu8wlsajdkOLtnXKC77RJFD8OIXiWpjBnP2SeApOqLHn3Ny5_HIw9V5N6YqvqSfZIAqcqN70tPFPlwopsi-AiWwULHdFPWkpJ7NOJ0TSN7c6nBIPCIbEEYlSZmxk2wUogm4l7JjQ2O6Sz2CR35Wq80g_wzKmZz0ZNaxQM0pVDYpS0lQzbWmn" ReportingName="" IgnoreHttpStatusCode="False">
      <Headers>
        <Header Name="Referer" Value="{{WebServer}}/" />
      </Headers>
      <ExtractionRules>
        <ExtractionRule Classname="Microsoft.VisualStudio.TestTools.WebTesting.Rules.ExtractHiddenFields, Microsoft.VisualStudio.QualityTools.WebTestFramework, Version=10.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a" VariableName="1" DisplayName="Extract Hidden Fields" Description="Extract all hidden fields from the response and place them into the test context.">
          <RuleParameters>
            <RuleParameter Name="Required" Value="True" />
            <RuleParameter Name="HtmlDecode" Value="True" />
          </RuleParameters>
        </ExtractionRule>
      </ExtractionRules>
      <CorrelationExtractionRules>
        <ExtractionRule Classname="Microsoft.VisualStudio.TestTools.WebTesting.Rules.ExtractText, Microsoft.VisualStudio.QualityTools.WebTestFramework, Version=10.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a" VariableName="QueryStringParam1.returnurl" DisplayName="" Description="">
          <RuleParameters>
            <RuleParameter Name="StartsWith" Value="?returnurl=" />
            <RuleParameter Name="EndsWith" Value="&quot;" />
            <RuleParameter Name="Index" Value="0" />
            <RuleParameter Name="IgnoreCase" Value="False" />
            <RuleParameter Name="UseRegularExpression" Value="False" />
            <RuleParameter Name="HtmlDecode" Value="True" />
            <RuleParameter Name="Required" Value="False" />
          </RuleParameters>
        </ExtractionRule>
      </CorrelationExtractionRules>
    </Request>
    <Request Method="POST" Guid="c5d366d1-9a5b-45e0-9e44-f8b4a1ced519" Version="1.1" Url="{{WebServer}}:5105/Account/Login" ThinkTime="0" Timeout="300" ParseDependentRequests="True" FollowRedirects="True" RecordResult="True" Cache="False" ResponseTimeGoal="0" Encoding="utf-8" ExpectedHttpStatusCode="0" ExpectedResponseUrl="{{WebServer}}:5105/connect/authorize/login?client_id=mvc&amp;redirect_uri=http%3A%2F%2F192.168.1.64%3A5100%2Fsignin-oidc&amp;response_type=code%20id_token&amp;scope=openid%20profile%20orders%20basket%20marketing&amp;response_mode=form_post&amp;nonce=636342378747934840.OGZkMzJhZTAtYWU5MS00YTMxLWE2ZDctZjE1MjVmMzgyOTY0MzMzY2FlMjUtMjUzMy00MDZjLWI2NjktOTUxMzE1ZDQxMzNj&amp;state=CfDJ8Cdrh-iylPpOkQpr1RyNCAEauzlQGRD0a5Vr2AcE9RNhkksEJEU1MfzIx7dH1sQkFHS9jHEzg1EY9O0Nv2rVwzdScaqc7ShHJu4Dw-r0cfNLBLGHPJGrAQH05x1YwIUsxxfmRUfU4Vcm3-38VR4g0lmQAywKqK_8nJ_D8aoPdU_4x8OMxkCiNuIlfu8wlsajdkOLtnXKC77RJFD8OIXiWpjBnP2SeApOqLHn3Ny5_HIw9V5N6YqvqSfZIAqcqN70tPFPlwopsi-AiWwULHdFPWkpJ7NOJ0TSN7c6nBIPCIbEEYlSZmxk2wUogm4l7JjQ2O6Sz2CR35Wq80g_wzKmZz0ZNaxQM0pVDYpS0lQzbWmn" ReportingName="" IgnoreHttpStatusCode="False">
      <Headers>
        <Header Name="Referer" Value="{{WebServer}}:5105/account/login?returnUrl=%2Fconnect%2Fauthorize%2Flogin%3Fclient_id%3Dmvc%26redirect_uri%3Dhttp%253A%252F%252F192.168.1.64%253A5100%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520orders%2520basket%2520marketing%26response_mode%3Dform_post%26nonce%3D636342378747934840.OGZkMzJhZTAtYWU5MS00YTMxLWE2ZDctZjE1MjVmMzgyOTY0MzMzY2FlMjUtMjUzMy00MDZjLWI2NjktOTUxMzE1ZDQxMzNj%26state%3DCfDJ8Cdrh-iylPpOkQpr1RyNCAEauzlQGRD0a5Vr2AcE9RNhkksEJEU1MfzIx7dH1sQkFHS9jHEzg1EY9O0Nv2rVwzdScaqc7ShHJu4Dw-r0cfNLBLGHPJGrAQH05x1YwIUsxxfmRUfU4Vcm3-38VR4g0lmQAywKqK_8nJ_D8aoPdU_4x8OMxkCiNuIlfu8wlsajdkOLtnXKC77RJFD8OIXiWpjBnP2SeApOqLHn3Ny5_HIw9V5N6YqvqSfZIAqcqN70tPFPlwopsi-AiWwULHdFPWkpJ7NOJ0TSN7c6nBIPCIbEEYlSZmxk2wUogm4l7JjQ2O6Sz2CR35Wq80g_wzKmZz0ZNaxQM0pVDYpS0lQzbWmn" />
      </Headers>
      <ExtractionRules>
        <ExtractionRule Classname="Microsoft.VisualStudio.TestTools.WebTesting.Rules.ExtractHiddenFields, Microsoft.VisualStudio.QualityTools.WebTestFramework, Version=10.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a" VariableName="1" DisplayName="Extract Hidden Fields" Description="Extract all hidden fields from the response and place them into the test context.">
          <RuleParameters>
            <RuleParameter Name="Required" Value="True" />
            <RuleParameter Name="HtmlDecode" Value="True" />
          </RuleParameters>
        </ExtractionRule>
      </ExtractionRules>
      <QueryStringParameters>
        <QueryStringParameter Name="returnurl" Value="%2Fconnect%2Fauthorize%2Flogin%3Fclient_id%3Dmvc%26redirect_uri%3Dhttp%253A%252F%252F192.168.1.64%253A5100%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520orders%2520basket%2520marketing%26response_mode%3Dform_post%26nonce%3D636342378747934840.OGZkMzJhZTAtYWU5MS00YTMxLWE2ZDctZjE1MjVmMzgyOTY0MzMzY2FlMjUtMjUzMy00MDZjLWI2NjktOTUxMzE1ZDQxMzNj%26state%3DCfDJ8Cdrh-iylPpOkQpr1RyNCAEauzlQGRD0a5Vr2AcE9RNhkksEJEU1MfzIx7dH1sQkFHS9jHEzg1EY9O0Nv2rVwzdScaqc7ShHJu4Dw-r0cfNLBLGHPJGrAQH05x1YwIUsxxfmRUfU4Vcm3-38VR4g0lmQAywKqK_8nJ_D8aoPdU_4x8OMxkCiNuIlfu8wlsajdkOLtnXKC77RJFD8OIXiWpjBnP2SeApOqLHn3Ny5_HIw9V5N6YqvqSfZIAqcqN70tPFPlwopsi-AiWwULHdFPWkpJ7NOJ0TSN7c6nBIPCIbEEYlSZmxk2wUogm4l7JjQ2O6Sz2CR35Wq80g_wzKmZz0ZNaxQM0pVDYpS0lQzbWmn" RecordedValue="%2Fconnect%2Fauthorize%2Flogin%3Fclient_id%3Dmvc%26redirect_uri%3Dhttp%253A%252F%252F192.168.1.64%253A5100%252Fsignin-oidc%26response_type%3Dcode%2520id_token%26scope%3Dopenid%2520profile%2520orders%2520basket%2520marketing%26response_mode%3Dform_post%26nonce%3D636342378747934840.OGZkMzJhZTAtYWU5MS00YTMxLWE2ZDctZjE1MjVmMzgyOTY0MzMzY2FlMjUtMjUzMy00MDZjLWI2NjktOTUxMzE1ZDQxMzNj%26state%3DCfDJ8Cdrh-iylPpOkQpr1RyNCAEauzlQGRD0a5Vr2AcE9RNhkksEJEU1MfzIx7dH1sQkFHS9jHEzg1EY9O0Nv2rVwzdScaqc7ShHJu4Dw-r0cfNLBLGHPJGrAQH05x1YwIUsxxfmRUfU4Vcm3-38VR4g0lmQAywKqK_8nJ_D8aoPdU_4x8OMxkCiNuIlfu8wlsajdkOLtnXKC77RJFD8OIXiWpjBnP2SeApOqLHn3Ny5_HIw9V5N6YqvqSfZIAqcqN70tPFPlwopsi-AiWwULHdFPWkpJ7NOJ0TSN7c6nBIPCIbEEYlSZmxk2wUogm4l7JjQ2O6Sz2CR35Wq80g_wzKmZz0ZNaxQM0pVDYpS0lQzbWmn" CorrelationBinding="{{QueryStringParam1.returnurl}}" UrlEncode="False" UseToGroupResults="False" />
      </QueryStringParameters>
      <FormPostHttpBody>
        <FormPostParameter Name="ReturnUrl" Value="{{$HIDDEN1.ReturnUrl}}" RecordedValue="/connect/authorize/login?client_id=mvc&amp;redirect_uri=http%3A%2F%2F192.168.1.64%3A5100%2Fsignin-oidc&amp;response_type=code%20id_token&amp;scope=openid%20profile%20orders%20basket%20marketing&amp;response_mode=form_post&amp;nonce=636342378747934840.OGZkMzJhZTAtYWU5MS00YTMxLWE2ZDctZjE1MjVmMzgyOTY0MzMzY2FlMjUtMjUzMy00MDZjLWI2NjktOTUxMzE1ZDQxMzNj&amp;state=CfDJ8Cdrh-iylPpOkQpr1RyNCAEauzlQGRD0a5Vr2AcE9RNhkksEJEU1MfzIx7dH1sQkFHS9jHEzg1EY9O0Nv2rVwzdScaqc7ShHJu4Dw-r0cfNLBLGHPJGrAQH05x1YwIUsxxfmRUfU4Vcm3-38VR4g0lmQAywKqK_8nJ_D8aoPdU_4x8OMxkCiNuIlfu8wlsajdkOLtnXKC77RJFD8OIXiWpjBnP2SeApOqLHn3Ny5_HIw9V5N6YqvqSfZIAqcqN70tPFPlwopsi-AiWwULHdFPWkpJ7NOJ0TSN7c6nBIPCIbEEYlSZmxk2wUogm4l7JjQ2O6Sz2CR35Wq80g_wzKmZz0ZNaxQM0pVDYpS0lQzbWmn" CorrelationBinding="" UrlEncode="True" />
        <FormPostParameter Name="Email" Value="{{Email}}" RecordedValue="demouser@microsoft.com" CorrelationBinding="" UrlEncode="True" />
        <FormPostParameter Name="Password" Value="{{Password}}" RecordedValue="Pass@word1" CorrelationBinding="" UrlEncode="True" />
        <FormPostParameter Name="__RequestVerificationToken" Value="{{$HIDDEN1.__RequestVerificationToken}}" RecordedValue="CfDJ8AkHkhH7jE1EtLOpO0RvC9eyOIgXSdiYvzHsy0r18btwyw1yGnhrnqXIQQQXOsRqy4sg2IHSm7vH8EXiSIL28H82_4LMJ3gljfpckgK9C3W2oyZ_-phJ2Xm_bD9SBkMhdLmLU4ZK0YjKkd41svXKVQc" CorrelationBinding="" UrlEncode="True" />
        <FormPostParameter Name="RememberMe" Value="{{$HIDDEN1.RememberMe}}" RecordedValue="false" CorrelationBinding="" UrlEncode="True" />
      </FormPostHttpBody>
    </Request>
    <Request Method="POST" Guid="55431f06-0559-4da1-a855-5ab48d9b479b" Version="1.1" Url="{{WebServer}}/signin-oidc" ThinkTime="0" Timeout="300" ParseDependentRequests="True" FollowRedirects="True" RecordResult="True" Cache="False" ResponseTimeGoal="0" Encoding="utf-8" ExpectedHttpStatusCode="0" ExpectedResponseUrl="{{WebServer}}/" ReportingName="" IgnoreHttpStatusCode="False">
      <Headers>
        <Header Name="Referer" Value="{{WebServer}}:5105/connect/authorize/login?client_id=mvc&amp;redirect_uri=http%3A%2F%2F192.168.1.64%3A5100%2Fsignin-oidc&amp;response_type=code%20id_token&amp;scope=openid%20profile%20orders%20basket%20marketing&amp;response_mode=form_post&amp;nonce=636342378747934840.OGZkMzJhZTAtYWU5MS00YTMxLWE2ZDctZjE1MjVmMzgyOTY0MzMzY2FlMjUtMjUzMy00MDZjLWI2NjktOTUxMzE1ZDQxMzNj&amp;state=CfDJ8Cdrh-iylPpOkQpr1RyNCAEauzlQGRD0a5Vr2AcE9RNhkksEJEU1MfzIx7dH1sQkFHS9jHEzg1EY9O0Nv2rVwzdScaqc7ShHJu4Dw-r0cfNLBLGHPJGrAQH05x1YwIUsxxfmRUfU4Vcm3-38VR4g0lmQAywKqK_8nJ_D8aoPdU_4x8OMxkCiNuIlfu8wlsajdkOLtnXKC77RJFD8OIXiWpjBnP2SeApOqLHn3Ny5_HIw9V5N6YqvqSfZIAqcqN70tPFPlwopsi-AiWwULHdFPWkpJ7NOJ0TSN7c6nBIPCIbEEYlSZmxk2wUogm4l7JjQ2O6Sz2CR35Wq80g_wzKmZz0ZNaxQM0pVDYpS0lQzbWmn" />
      </Headers>
      <ExtractionRules>
        <ExtractionRule Classname="Microsoft.VisualStudio.TestTools.WebTesting.Rules.ExtractHiddenFields, Microsoft.VisualStudio.QualityTools.WebTestFramework, Version=10.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a" VariableName="1" DisplayName="Extract Hidden Fields" Description="Extract all hidden fields from the response and place them into the test context.">
          <RuleParameters>
            <RuleParameter Name="Required" Value="True" />
            <RuleParameter Name="HtmlDecode" Value="True" />
          </RuleParameters>
        </ExtractionRule>
      </ExtractionRules>
      <FormPostHttpBody>
        <FormPostParameter Name="code" Value="{{$HIDDEN1.code}}" RecordedValue="55e25facec5dd72909eb173e08bbf97bbb7b32a4fc7fbbe840c6525b73190ce1" CorrelationBinding="" UrlEncode="True" />
        <FormPostParameter Name="id_token" Value="{{$HIDDEN1.id_token}}" RecordedValue="eyJhbGciOiJSUzI1NiIsImtpZCI6IjZCN0FDQzUyMDMwNUJGREI0RjcyNTJEQUVCMjE3N0NDMDkxRkFBRTEiLCJ0eXAiOiJKV1QiLCJ4NXQiOiJhM3JNVWdNRnY5dFBjbExhNnlGM3pBa2ZxdUUifQ.eyJuYmYiOjE0OTg2NDEwOTMsImV4cCI6MTQ5ODY0MTM5MywiaXNzIjoibnVsbCIsImF1ZCI6Im12YyIsIm5vbmNlIjoiNjM2MzQyMzc4NzQ3OTM0ODQwLk9HWmtNekpoWlRBdFlXVTVNUzAwWVRNeExXRTJaRGN0WmpFMU1qVm1Nemd5T1RZME16TXpZMkZsTWpVdE1qVXpNeTAwTURaakxXSTJOamt0T1RVeE16RTFaRFF4TXpOaiIsImlhdCI6MTQ5ODY0MTA5MiwiY19oYXNoIjoiWUxueV9aQlRfc3VHa3V0V1FuX0tRUSIsInNpZCI6ImFjYjJjM2YwNjc2OTYyYzJlYjQ1ZDZjNWUwMzNmYzY3Iiwic3ViIjoiNWYxYTYxYjUtZGFkNS00NDFlLWJkMTctY2VlZjM1NWQxNWNjIiwiYXV0aF90aW1lIjoxNDk4NjQxMDkyLCJpZHAiOiJsb2NhbCIsImFtciI6WyJwd2QiXX0.GbsXOUaKEmjaIVNQynncCVrBIGf7GGScHe-n6dEp3TkTAbGOElt-61x3r-3Lh4Shhfup9xvEnzML4ZNOIMQze6us6__YDfionATjOHnEt8PcvUt5-iMc3LhH7T1CfIgg3_WjftMS98vs0QUJ275Dw-ixvQ8itDpxwcrLPgAUlWRJ6YTcR84TAbyvI21TDLc9bQa_LriVOtoFr-GidlGwdBNbP3Wca814nuqRhNK8i77A9uHun4MYvrYelx_xzbAUBRP5N32yq_6FxpEgxbPGWmdOBH7Z_tqoz57_iaTbVegxTsl_JOeNYDKedS9rdINEKXkMpanDt8yQV8rtbj29tg" CorrelationBinding="" UrlEncode="True" />
        <FormPostParameter Name="scope" Value="{{$HIDDEN1.scope}}" RecordedValue="openid profile orders basket marketing" CorrelationBinding="" UrlEncode="True" />
        <FormPostParameter Name="state" Value="{{$HIDDEN1.state}}" RecordedValue="CfDJ8Cdrh-iylPpOkQpr1RyNCAEauzlQGRD0a5Vr2AcE9RNhkksEJEU1MfzIx7dH1sQkFHS9jHEzg1EY9O0Nv2rVwzdScaqc7ShHJu4Dw-r0cfNLBLGHPJGrAQH05x1YwIUsxxfmRUfU4Vcm3-38VR4g0lmQAywKqK_8nJ_D8aoPdU_4x8OMxkCiNuIlfu8wlsajdkOLtnXKC77RJFD8OIXiWpjBnP2SeApOqLHn3Ny5_HIw9V5N6YqvqSfZIAqcqN70tPFPlwopsi-AiWwULHdFPWkpJ7NOJ0TSN7c6nBIPCIbEEYlSZmxk2wUogm4l7JjQ2O6Sz2CR35Wq80g_wzKmZz0ZNaxQM0pVDYpS0lQzbWmn" CorrelationBinding="" UrlEncode="True" />
        <FormPostParameter Name="session_state" Value="{{$HIDDEN1.session_state}}" RecordedValue="AmzNwXDsLMKEU7V2g0zI47YUS_KWVVf9OEPAtVHNVsU.539de0526b907162ee008ea0b40a498b" CorrelationBinding="" UrlEncode="True" />
      </FormPostHttpBody>
    </Request>
  </Items>
  <ContextParameters>
    <ContextParameter Name="WebServer" Value="" />
    <ContextParameter Name="Email" Value="demouser@microsoft.com" />
    <ContextParameter Name="Password" Value="Pass@word1" />
  </ContextParameters>
</WebTest>